pkgname=yafti
pkgver=0.10.2
pkgrel=1
pkgdesc="Yet Another First Time Installer"
arch=(any)
depends=(libadwaita gtk4 gobject-introspection python-{pydantic,rich,typer,yaml})
source=(https://github.com/ublue-os/yafti/archive/refs/tags/v$pkgver.zip)
sha512sums=('e37e72f0cf53c0f1593b1feaeb2499bb038f70b2788a01140a935599a1c846db868082f0eaff17e5312d32c9000bfd40cd078d022fc371d629c5040211c4c920')
makedepends=(python-{build,installer,wheel,poetry,gobject})

build() {
    cd "$pkgname-$pkgver"
    python -m build --wheel --no-isolation
}

package() {
    cd "$pkgname-$pkgver"
    python -m installer --destdir="$pkgdir" dist/*.whl
}
